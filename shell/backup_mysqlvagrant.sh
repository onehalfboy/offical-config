#!/bin/bash
mysqldump="/opt/app/mysql/bin/mysqldump -uroot -p888888 -h127.0.0.1 --port=3307 -B"
dbDir="/var/www/db"

#init
projectsA[0]="campus.2345.net"
dbsA[0]="campus_2345_net"
projectsA[1]="ccser.2345.net"
dbsA[1]="check_cdn"
projectsA[2]="crm3.2345.net"
dbsA[2]="crm3"
projectsA[3]="deploy.2345.com"
dbsA[3]="weblive"
projectsA[4]="deploy.2345.net"
dbsA[4]="gitdeploy"
projectsA[5]="feedback.2345.com"
dbsA[5]="feedback"
projectsA[6]="fol.2345.net"
dbsA[6]="folnew_2345_net"
projectsA[7]="hetong.2345.net"
dbsA[7]="hetong"
projectsA[8]="issue.2345.com"
dbsA[8]="svn_export"
projectsA[9]="jobs.2345.net"
dbsA[9]="ruichuangjob"
projectsA[10]="kpi.2345.net"
dbsA[10]="ruichuangkpi"
projectsA[11]="login.2345.com"
dbsA[11]="my_2345"
projectsA[12]="monitor.2345.com"
dbsA[12]="monitor2"
projectsA[13]="monitor.50bang.org"
dbsA[13]="monitor"
projectsA[14]="oa.2345.cn"
dbsA[14]="2345oa"
projectsA[15]="qs.2345.net"
dbsA[15]="qsnew"
projectsA[16]="release.2345.net"
dbsA[16]="git_export"
projectsA[17]="safe.2345.net"
dbsA[17]="safe_2345_net"
projectsA[18]="Scanner"
dbsA[18]="xoops"
projectsA[19]="server.2345.net"
dbsA[19]="ruichuangserver"
projectsA[20]="shenpi.2345.net"
dbsA[20]="shenpi_2345_net"
projectsA[21]="svnauth.2345.net"
dbsA[21]="svnauth_2345_net"
projectsA[22]="talentserver.2345.net"
dbsA[22]="hr_2345_net"
projectsA[23]="vc.2345.net"
dbsA[23]="kehuduan_2345_com"
projectsA[24]="vc.2345.net"
dbsA[24]="vc_2345_net"
projectsA[25]="vpnadmin.2345.net"
dbsA[25]="vpn_2345_com"
projectsA[26]="www.2345.net"
dbsA[26]="ruic"
projectsA[27]="smsp.2345.net"
dbsA[27]="smsp"
projectsA[28]="appunion.2345.com"
dbsA[28]="unionapp"
projectsA[29]="jieqian.2345.com"
dbsA[29]="jieqian_2345_com"
projectsA[30]="jieqian.2345.com"
dbsA[30]="jieqian_2345_com_user"
projectsA[31]="daikuan.2345.com"
dbsA[31]="daikuanwang_2345_com"
#projectsA[]="db.ruichuang.net"
#dbsA[]="dbruichuang"
#projectsA[]="kaoqin.2345.net"
#dbsA[]="2345oa"
#projectsA[]="fabu.2345.com"
#dbsA[]="svn_export"
#projectsA[]="login.2345.com"
#dbsA[]="my_ie_2345"
#projectsA[]="login.2345.com"
#dbsA[]="redis_mail"

#set -x
mv "${dbDir}" "${dbDir}_bak"
mkdir -p "${dbDir}"

for i in "${!projectsA[@]}"; do 
#    printf "%s\t%s\t%s\n" "$i" "${projectsA[$i]}" "${dbsA[$i]}"
	mkdir "${dbDir}/${projectsA[$i]}"
	${mysqldump} "${dbsA[$i]}" > "${dbDir}/${projectsA[$i]}/${dbsA[$i]}.sql"
done

rm -rf "${dbDir}_bak"

